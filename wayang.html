<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Averia+Gruesa+Libre&family=Manrope:wght@200..800&display=swap"
        rel="stylesheet">
    <title>TelusurKultur - Wayang</title>
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./js/fontawesome-free-6.7.2-web/fontawesome-free-6.7.2-web/css/all.min.css">
    <link rel="icon" type="image/png" href="./assets/icon.svg">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./js/Parallax.js v3.1.0/parallax-master/src/parallax.min.js"></script>
</head>

<body class="bg-[#1E1E1E]">
    <header class="z-[80] overflow-visible">
        <nav
            class="flex justify-between items-center text-white p-5 fixed w-full bg-gradient-to-b from-[#1E1E1E] to-transparent overflow-visible">
            <button class="hamburger-icon z-[99] pointer-events-auto">
                <i class="fas fa-bars text-3xl"></i>
            </button>
            <img src="../assets/logo.png" alt="Website Logo" class="w-32" />
            <p></p>
        </nav>
    </header>
    <div class="fixed bg-gradient-to-r from-[#1E1E1E] to-transparent p-5 h-full font-manrope w-4/12 hidden z-[99]"
        id="nav-links">
        <button class="hamburger-icon z-[99] pointer-events-auto text-white">
            <i class="fas fa-bars text-3xl"></i>
        </button>
        <ul class="space-y-4 mt-8">
            <li><a href="/" class="text-white text-2xl">Home</a></li>
            <li><a href="/wayang.html" class="text-white text-2xl">Wayang</a></li>
            <li><a href="/sejarah.html" class="text-white text-2xl">Sejarah</a></li>
            <li><a href="/batik.html" class="text-white text-2xl">Batik</a></li>
        </ul>
    </div>
    <div class="relative overflow-hidden h-screen w-full z-[-99]" id="scene">
        <!-- Background -->
        <img src="./assets/vintage.png" class="absolute inset-0 w-full h-full object-cover" />

        <div class="my-24 absolute top-0 z-[99] w-full">
            <h1 class="font-averia text-white text-4xl text-center" id="titleWayang">Ramalan dan Sayembara Sinta</h1>
        </div>

        <div data-depth="0.1" class="!absolute !left-[calc(40%)] !top-[40%]">
            <img src="./assets/gunungan.png" class="w-[20em]" />
        </div>

        <!-- Waves -->
        <img src="./assets/wave.png" data-depth="-0.4" class="!absolute !top-[calc(100%-5em)] w-full" />

        <!-- Wayang (Left) -->
        <div data-depth="-0.2" class="font-manrope opacity-[0.7]  p-3 bg-white rounded w-fit !top-[40%] !left-[5em]">
            <p id="namawayangleft"></p>
        </div>
        <div data-depth="-0.4" class="!absolute !left-0 !top-[40%]">
            <img src="./assets/wayang.png" class="w-[20em] scale-x-[-1]" id="wayangleft" />
        </div>
        <!-- Wayang (Right) -->
        <p data-depth="-0.5"
            class="font-manrope opacity-[0.7] p-3 bg-white rounded w-fit !top-[40%] !left-[calc(100%-10em)]"
            id="namawayangright"></p>
        <div data-depth="0.2" class="!absolute !left-[calc(100%-20em)] !top-[40%]">
            <img src="./assets/semar.png" class="w-[20em]" id="wayangright" />
        </div>
        <img src="./assets/wave.png" data-depth="0.7" class="!absolute !top-[calc(100%-5em)] w-full" />
    </div>

    <div class="flex justify-between items-center absolute bottom-0 w-full">
        <button class="p-5 bg-white m-5 h-fit rounded-xl" onclick="before()"><i class="fas fa-arrow-left"></i>
        </button>
        <div class="bg-white m-5 p-5 rounded-lg shadow-lg">
            <p class="font-manrope text-lg" id="deskripsi"></p>
        </div>
        <button class="p-5 bg-white m-3 h-fit rounded-xl" onclick="next()"><i class="fas fa-arrow-right"></i>
        </button>
    </div>

    <script>
        let scene = document.getElementById('scene');
        let parallaxInstance = new Parallax(scene);

        let alurWayang = [{
            "kisah": [
                {
                    "title": "Ramalan dan Sayembara Sinta",
                    "deskripsi": "Rama memenangkan sayembara dengan membentangkan busur Dewa Siwa dan menikahi Sinta.",
                    "karakter": ["Sinta", "Rama"]
                },
                {
                    "title": "Pengasingan ke Hutan Dandaka",
                    "deskripsi": "Rama diusir ke hutan selama 14 tahun, Sinta dan Laksmana setia menemaninya.",
                    "karakter": ["Sinta", "Laksamana"]
                },
                {
                    "title": "Penculikan Sinta oleh Rahwana",
                    "deskripsi": "Rahwana menculik Sinta dengan tipu daya dan membawanya ke Alengka.",
                    "karakter": ["Sinta", "Rahwana"]
                },
                {
                    "title": "Sinta di Kerajaan Alengka",
                    "deskripsi": "Sinta ditahan di Taman Argasoka, menolak lamaran Rahwana dan tetap setia kepada Rama.",
                    "karakter": ["Sinta", "Rahwana"]
                },
                {
                    "title": "Bantuan dari Hanuman",
                    "deskripsi": "Hanuman menemukan Sinta di Alengka, memberi harapan bahwa Rama akan menyelamatkannya.",
                    "karakter": ["Sinta", "Hanuman"]
                },
                {
                    "title": "Perang Besar di Alengka",
                    "deskripsi": "Rama dan pasukan kera bertempur melawan Rahwana, hingga akhirnya Rahwana terbunuh.",
                    "karakter": ["Rama", "Rahwana"]
                },
                {
                    "title": "Ujian Kesetiaan Sinta",
                    "deskripsi": "Sinta membuktikan kesuciannya dengan masuk ke dalam api, dan Rama menerimanya kembali.",
                    "karakter": ["Sinta", "Rama"]
                },
                {
                    "title": "Akhir Tragis Cinta Rama dan Sinta",
                    "deskripsi": "Karena desas-desus rakyat, Sinta diasingkan, melahirkan Lawa dan Kusa, lalu menghilang ke dalam bumi.",
                    "karakter": ["Sinta", "Rama"]
                }
            ]
        }];

        $(document).ready(function () {
            $('.hamburger-icon').click(function () {
                $('#nav-links').toggleClass('hidden');
            });

            let posisi = 0;

            function updateTitle() {
                $("#titleWayang").text(alurWayang[0].kisah[posisi].title);
                $("#deskripsi").text(alurWayang[0].kisah[posisi].deskripsi);
                $("#wayangright").attr("src", `./assets/${alurWayang[0].kisah[posisi].karakter[0]}.png`);
                $("#namawayangright").text(alurWayang[0].kisah[posisi].karakter[0]);
                $("#wayangleft").attr("src", `./assets/${alurWayang[0].kisah[posisi].karakter[1]}.png`);
                $("#namawayangleft").text(alurWayang[0].kisah[posisi].karakter[1]);

                console.log()
            }

            window.next = function () {
                if (posisi < alurWayang[0].kisah.length - 1) {
                    posisi++;
                    updateTitle();
                }
            };

            window.before = function () {
                if (posisi > 0) {
                    posisi--;
                    updateTitle();
                }
            };

            window.flip = function () {

            }

            // Set initial title
            updateTitle();
        });
    </script>
    <script src="./js/Navbar.js"></script>

</body>

</html>